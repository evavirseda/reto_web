{"ast":null,"code":"var _jsxFileName = \"/Users/evavi/Desktop/IRONHACK/reto/reto_web/reto/client/src/components/App.js\";\nimport { Component } from 'react';\nimport './App.css';\nimport Routes from './routes/Routes';\nimport Footer from './layout/Footer/Footer';\nimport Navigation from './layout/Navigation/Navigation';\nimport AuthService from '../service/auth.service';\nimport Alert from './shared/Alert/Alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.handleAlert = (show, title, text) => this.setState({\n      alert: {\n        show,\n        title,\n        text\n      }\n    });\n\n    this.state = {\n      loggedUser: undefined,\n      alert: {\n        show: false,\n        title: '',\n        text: ''\n      }\n    };\n    this.authService = new AuthService();\n  }\n\n  storeUser(loggedUser) {\n    this.setState({\n      loggedUser\n    }, () => console.log('Usuario modificado:', this.state.loggedUser));\n  }\n\n  fetchUser() {\n    this.authService.isLoggedIn().then(response => this.storeUser(response.data)).catch(() => this.storeUser(undefined));\n  }\n\n  componentDidMount() {\n    this.fetchUser();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Navigation, {\n        storeUser: user => this.storeUser(user),\n        loggedUser: this.state.loggedUser,\n        handleAlert: this.handleAlert\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(Routes, {\n          storeUser: user => this.storeUser(user),\n          loggedUser: this.state.loggedUser,\n          handleAlert: this.handleAlert\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Alert, {\n        handleAlert: this.handleAlert,\n        show: this.state.alert.show,\n        title: this.state.alert.title,\n        text: this.state.alert.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/evavi/Desktop/IRONHACK/reto/reto_web/reto/client/src/components/App.js"],"names":["Component","Routes","Footer","Navigation","AuthService","Alert","App","constructor","handleAlert","show","title","text","setState","alert","state","loggedUser","undefined","authService","storeUser","console","log","fetchUser","isLoggedIn","then","response","data","catch","componentDidMount","render","user"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAO,WAAP;AAEA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,UAAP,MAAuB,gCAAvB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,KAAP,MAAkB,sBAAlB;;;;AAIA,MAAMC,GAAN,SAAkBN,SAAlB,CAA4B;AAE1BO,EAAAA,WAAW,GAAG;AACZ;;AADY,SA4BdC,WA5Bc,GA4BA,CAACC,IAAD,EAAOC,KAAP,EAAcC,IAAd,KAAuB,KAAKC,QAAL,CAAc;AAACC,MAAAA,KAAK,EAAE;AAAEJ,QAAAA,IAAF;AAAQC,QAAAA,KAAR;AAAeC,QAAAA;AAAf;AAAR,KAAd,CA5BvB;;AAEZ,SAAKG,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAEC,SADD;AAEXH,MAAAA,KAAK,EAAE;AACLJ,QAAAA,IAAI,EAAE,KADD;AAELC,QAAAA,KAAK,EAAE,EAFF;AAGLC,QAAAA,IAAI,EAAE;AAHD;AAFI,KAAb;AAQA,SAAKM,WAAL,GAAmB,IAAIb,WAAJ,EAAnB;AACD;;AAEDc,EAAAA,SAAS,CAACH,UAAD,EAAa;AACpB,SAAKH,QAAL,CAAc;AAAEG,MAAAA;AAAF,KAAd,EAA8B,MAAMI,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC,KAAKN,KAAL,CAAWC,UAA9C,CAApC;AACD;;AAEDM,EAAAA,SAAS,GAAG;AACV,SAAKJ,WAAL,CACGK,UADH,GAEGC,IAFH,CAEQC,QAAQ,IAAI,KAAKN,SAAL,CAAeM,QAAQ,CAACC,IAAxB,CAFpB,EAGGC,KAHH,CAGS,MAAM,KAAKR,SAAL,CAAeF,SAAf,CAHf;AAID;;AAEDW,EAAAA,iBAAiB,GAAG;AAClB,SAAKN,SAAL;AACD;;AAIDO,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACE,QAAC,UAAD;AAAY,QAAA,SAAS,EAAEC,IAAI,IAAI,KAAKX,SAAL,CAAeW,IAAf,CAA/B;AAAqD,QAAA,UAAU,EAAE,KAAKf,KAAL,CAAWC,UAA5E;AAAwF,QAAA,WAAW,EAAE,KAAKP;AAA1G;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA,+BACE,QAAC,MAAD;AAAQ,UAAA,SAAS,EAAEqB,IAAI,IAAI,KAAKX,SAAL,CAAeW,IAAf,CAA3B;AAAiD,UAAA,UAAU,EAAE,KAAKf,KAAL,CAAWC,UAAxE;AAAoF,UAAA,WAAW,EAAE,KAAKP;AAAtG;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFF,eAKE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cALF,eAME,QAAC,KAAD;AAAO,QAAA,WAAW,EAAE,KAAKA,WAAzB;AAAsC,QAAA,IAAI,EAAE,KAAKM,KAAL,CAAWD,KAAX,CAAiBJ,IAA7D;AAAmE,QAAA,KAAK,EAAE,KAAKK,KAAL,CAAWD,KAAX,CAAiBH,KAA3F;AAAkG,QAAA,IAAI,EAAE,KAAKI,KAAL,CAAWD,KAAX,CAAiBF;AAAzH;AAAA;AAAA;AAAA;AAAA,cANF;AAAA,oBADF;AAUD;;AA3CyB;;AA8C5B,eAAeL,GAAf","sourcesContent":["import { Component } from 'react'\nimport './App.css'\n\nimport Routes from './routes/Routes'\nimport Footer from './layout/Footer/Footer'\nimport Navigation from './layout/Navigation/Navigation'\nimport AuthService from '../service/auth.service'\nimport Alert from './shared/Alert/Alert'\n\n\n\nclass App extends Component {\n\n  constructor() {\n    super()\n    this.state = {\n      loggedUser: undefined,\n      alert: {\n        show: false,\n        title: '',\n        text: ''\n      }\n    }\n    this.authService = new AuthService()\n  }\n\n  storeUser(loggedUser) {\n    this.setState({ loggedUser }, () => console.log('Usuario modificado:', this.state.loggedUser))\n  }\n\n  fetchUser() {\n    this.authService\n      .isLoggedIn()\n      .then(response => this.storeUser(response.data))\n      .catch(() => this.storeUser(undefined))\n  }\n\n  componentDidMount() {\n    this.fetchUser()\n  }\n\n  handleAlert = (show, title, text) => this.setState({alert: { show, title, text }})\n\n  render() {\n    return (\n      <>\n        <Navigation storeUser={user => this.storeUser(user)} loggedUser={this.state.loggedUser} handleAlert={this.handleAlert}/>\n        <main>\n          <Routes storeUser={user => this.storeUser(user)} loggedUser={this.state.loggedUser} handleAlert={this.handleAlert}/>\n        </main>\n        <Footer />\n        <Alert handleAlert={this.handleAlert} show={this.state.alert.show} title={this.state.alert.title} text={this.state.alert.text}/>\n      </>\n    )\n  }\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}